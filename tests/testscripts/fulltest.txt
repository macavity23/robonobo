D=Do
E=Expect

Run this whole script on windows (ie), mac (safari) & ubuntu (ff)

Prereqs:
* 3 test facebook accts (users A, B and C) with friendships A<->B but no others
* 1 test twitter acct (user D)
* delete test rbnb accts
* 4 small (56kb) test mp3 files

Website
=======
D go to http://robonobo.com
E home page
D select registration from nav
E reg page
D fill out standard registration
E download page
E receive registration email

D logout from nav
E home page
D go back to reg page, click 'register with facebook'
E facebook reg page
D fill out facebook reg, continue
E get bounced to facebook
D log in, click approve
E get bounced back to robonobo.com download page

D logout from nav
E home page
D go back to reg page, click 'register with twitter'
E twitter reg page
D continue to twitter, login, approve
E get bounced back to rbnb download page

D logout from nav
E home page
D select login from nav
E login page
D click forgot password, enter email, submit
E login page
E password reminder email

D Enter email, password, untick 'remember me', click login
E logged in home page
D delete session cookies, reload homepage
E logged out home page

D Enter email, password, tick 'remember me', click login
E logged in home page
D delete session cookies, reload home page
E logged in home page
D Click logout
E login page

D click help
E go to getsatisfaction.com page
D back, click developers
E go to github page
D back, click contact
E go to contact page

D click account
E account page up, including current balance
D click request topup
E topup request email sent
D change name, enter current pwd, click save
E name changes


App Login
=========
D rm robonobo home dirs - dev and prod
D go to website download page, download latest app, install
E installs ok
D launch rbnb
E eula page
D check home dir creation
E correct home dir created
D cancel eula
E robonobo quits
D relaunch robonobo, accept eula
E robonobo pops up, asks for login
D click link from login page
E browser opens, shows robonobo registration page
D enter login details with incorrect password
E login failed window
D enter correct user A login details
E login successful, rbnb connected
E welcome page
E can see balance

D quit app
D login to website, go to account page
D enter current pwd, enter new pwd twice, save, logout, login with new details
E get home page
D relaunch app
E get login dialog
D log into application with new details
E login successful
E welcome page


Sharing
=====================
D if mirror is running, delete test files
D from welcome page, select 'add files'
E add files dialog
D select 2 test files
E files get added
D remove tracks using button
E tracks removed
D add tracks via dnd
E tracks added
D remove tracks using right-click
E tracks removed

D create new playlist, save
E playlist created
D add 2 test tracks via dnd from my music, wait 30s
E tracks start to upload to mirror
D wait for tracks to upload
D drag 2 more tracks directly in from os, wait 30s
E tracks start to upload
D add tracks to playlist via right-click from library
E tracks added

D (mac/win) select 'import from itunes' from menu
E tracks and playlists imported


Search
======
D once tracks are mirrored, remove tracks from library
D search for tracks
E find mirrored tracks
D download track
E track downloads
D play different track
E track plays

Friends/Facebook/Twitter
=====================
D share playlist with user B
E user B receives invite email
D accept invite, register via facebook
E user B created, receives welcome email
D login as user B
E friend A is there, playlist is there
D add track to playlist as user B
D login as user A
E playlist is updated

D make new playlist, add same tracks
D share playlist with user B
E user B receives email
D login as user B
E playlist is there
D login as user A

D register as user C through rbnb site
D open robonobo as user A, share playlist with user C
E user C receives friendship request
D user C accepts friendship request
E friendship created
D log in as user C
E friendship, playlist created

D create playlist, visible to friends only
D click 'post to facebook' button
E browser opens, asks for login then starts facebook attach process
D go through facebook attach
D go back to app, click 'post to facebook' button again
E post to facebook sheet appears
D fill out sheet with test message, submit
E facebook wall message is posted
D click 'post to twitter' button
E browser opens, starts twitter attach process
D go through twitter attach
D go back to app, click 'post to twitter' button again
E post to twitter sheet appears
D fill out sheet with test message, submit
E tweet is tweeted

D log into rbnb app as user A
D go to twitter page containing rbnb tweet, click on link
E playlist opens in rbnb under user C
D log into rbnb app as user B
D go to twitter page containing rbnb tweet, click on link
E playlist won't open, displays helpful non-public message
D log into rbnb app as user C
D change playlist to publically visible
D log into rbnb app as user B
D go to twitter page containing rbnb tweet, click on link
E playlist opens in rbnb under public playlists

D user C makes friends with user B on facebook
E facebook api receives friendship update
D log in to app as user C, user B
E friendship created on both sides


Downloading and Playing
=======================
D delete some tracks using delete button
E tracks deleted
D delete rest of tracks using del key
E tracks deleted
D look at playlists
E Found 1+ sources for mirrored tracks
D delete all playlists
E playlists deleted
D quit app

D launch app
D search for previously-shared track
E finds track, has sources
D download track
E track downloads
D as track is downloading, hit play
E track plays

D go to friend's playlist (>4 items), hit download automatically
E all items in playlist download successfully
D (mac/win) Check 'sync with iTunes'
E iTunes opens, playlist appears with correct tracks

D login to another node as friend user, add track to playlist
D wait 5 mins
E playlist updates and starts downloading
E (mac/win) iTunes playlist updates with new track


Misc
====
D help->about
E displays correct version
D help->online help
E browser opens with online help page
D help->developer page
E browser opens with github page
D help->file bug report
E bug report page opens